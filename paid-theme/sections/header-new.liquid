{% comment %}
  eSpares Header - Exact 1:1 Replica
  Matches the eSpares.co.uk header design exactly
{% endcomment %}

{% liquid
  assign logo = section.settings.logo
  assign logo_width = section.settings.logo_width | default: 200
  assign search_enabled = section.settings.enable_search | default: true
%}

<style>
  /* eSpares Header Styles */
  .espares-header {
    font-family: Arial, sans-serif;
  }
  
  /* Top promotional bar */
  .espares-top-bar {
    background-color: #1a1a1a;
    color: white;
    text-align: center;
    padding: 8px 0;
    font-size: 14px;
    font-weight: bold;
    letter-spacing: 1px;
  }
  
  /* Main header container */
  .espares-main-header {
    background-color: #000;
    padding: 15px 0;
  }
  
  .espares-header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
  }
  
  /* Logo */
  .espares-logo {
    flex-shrink: 0;
  }
  
  .espares-logo img {
    height: 60px;
    width: auto;
  }
  
  .espares-logo-text {
    color: #ffff00;
    font-size: 32px;
    font-weight: bold;
    text-decoration: none;
    font-style: italic;
  }
  
  .espares-logo-text .tagline {
    font-size: 12px;
    color: white;
    font-style: normal;
    display: block;
    margin-top: -5px;
  }
  
  /* Search bar */
  .espares-search-container {
    flex: 1;
    max-width: 500px;
    margin: 0 30px;
    position: relative;
  }
  
  .espares-search-form {
    display: flex;
    border: 2px solid #ffff00;
    background-color: white;
  }
  
  .espares-search-input {
    flex: 1;
    padding: 12px 15px;
    border: none;
    font-size: 16px;
    outline: none;
  }
  
  .espares-search-input::placeholder {
    color: #999;
  }
  
  .espares-search-button {
    background-color: #ffff00;
    border: none;
    padding: 12px 20px;
    color: #000;
    font-weight: bold;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  
  .espares-search-button:hover {
    background-color: #e6e600;
  }
  
  /* Header actions */
  .espares-header-actions {
    display: flex;
    align-items: center;
    gap: 25px;
  }
  
  .espares-account,
  .espares-basket {
    color: white;
    text-decoration: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 14px;
    transition: color 0.3s;
  }
  
  .espares-account:hover,
  .espares-basket:hover {
    color: #ffff00;
  }
  
  .espares-icon {
    width: 24px;
    height: 24px;
    margin-bottom: 4px;
  }
  
  .espares-basket-count {
    background-color: #ffff00;
    color: #000;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    position: absolute;
    top: -8px;
    right: -8px;
  }
  
  .espares-basket {
    position: relative;
  }
  
  /* Navigation menu */
  .espares-navigation {
    background-color: #f5f5f5;
    border-bottom: 1px solid #ddd;
  }
  
  .espares-nav-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  
  .espares-nav-list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    flex-wrap: wrap;
  }
  
  .espares-nav-item {
    margin-right: 40px;
  }
  
  .espares-nav-link {
    display: block;
    padding: 15px 0;
    color: #333;
    text-decoration: none;
    font-weight: 500;
    font-size: 16px;
    transition: color 0.3s;
  }
  
  .espares-nav-link:hover {
    color: #007bff;
  }
  
  /* Info bar */
  .espares-info-bar {
    background-color: #f8f9fa;
    padding: 12px 0;
    border-bottom: 1px solid #ddd;
  }
  
  .espares-info-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    flex-wrap: wrap;
  }
  
  .espares-info-item {
    display: flex;
    align-items: center;
    color: #666;
    font-size: 14px;
    margin: 5px 0;
  }
  
  .espares-info-icon {
    width: 20px;
    height: 20px;
    margin-right: 8px;
    opacity: 0.7;
  }
  
  /* Promotional banner */
  .espares-promo-banner {
    background-color: #ffff00;
    text-align: center;
    padding: 12px 0;
    font-weight: bold;
    color: #000;
  }
  
  .espares-promo-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    flex-wrap: wrap;
  }
  
  .espares-promo-deals {
    color: #ff4500;
    font-size: 18px;
    letter-spacing: 1px;
  }
  
  .espares-promo-subscribe {
    font-size: 16px;
  }
  
  /* Mobile responsive */
  @media (max-width: 768px) {
    .espares-header-content {
      flex-direction: column;
      gap: 15px;
    }
    
    .espares-search-container {
      margin: 0;
      max-width: 100%;
      width: 100%;
    }
    
    .espares-nav-list {
      justify-content: center;
    }
    
    .espares-nav-item {
      margin-right: 20px;
    }
    
    .espares-info-content {
      flex-direction: column;
      gap: 10px;
    }
    
    .espares-promo-content {
      flex-direction: column;
      gap: 10px;
    }
  }
</style>

<header class="espares-header">
  <!-- Top promotional bar -->
  <div class="espares-top-bar">
    HUGE SALE | FLASH DEALS | DIY FOR ALL
  </div>
  
  <!-- Main header -->
  <div class="espares-main-header">
    <div class="espares-header-content">
      <!-- Logo -->
      <div class="espares-logo">
        <a href="{{ routes.root_url }}" title="{{ shop.name | escape }}">
          {%- if logo -%}
            <img src="{{ logo | image_url: width: logo_width }}" alt="{{ shop.name | escape }}" width="{{ logo_width }}" height="{{ logo_width | divided_by: 2 }}">
          {%- else -%}
            <span class="espares-logo-text">
              espares
              <span class="tagline">the online parts store</span>
            </span>
          {%- endif -%}
        </a>
      </div>
      
      <!-- Search bar -->
      {%- if search_enabled -%}
        <div class="espares-search-container">
          <form action="{{ routes.search_url }}" method="get" role="search" class="espares-search-form">
            <input 
              type="search" 
              name="q" 
              maxlength="120" 
              placeholder="Search your brand, part or model..." 
              class="espares-search-input" 
              value="{{ search.terms | escape }}" 
              spellcheck="false">
            <button type="submit" class="espares-search-button">Search Â»</button>
          </form>
        </div>
      {%- endif -%}
      
      <!-- Header actions -->
      <div class="espares-header-actions">
        <!-- Account -->
        <a href="{{ routes.account_url }}" class="espares-account">
          <svg class="espares-icon" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
          {%- if customer -%}
            Log In
          {%- else -%}
            Log In
          {%- endif -%}
        </a>
        
        <!-- Basket -->
        <a href="{{ routes.cart_url }}" class="espares-basket">
          <svg class="espares-icon" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
          Basket
          {%- if cart.item_count > 0 -%}
            <span class="espares-basket-count">{{ cart.item_count }}</span>
          {%- else -%}
            <span class="espares-basket-count">0</span>
          {%- endif -%}
        </a>
      </div>
    </div>
  </div>
  
  <!-- Navigation menu -->
  <nav class="espares-navigation">
    <div class="espares-nav-content">
      <ul class="espares-nav-list">
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Kitchen Appliances</a>
        </li>
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Washers & Dryers</a>
        </li>
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Floorcare</a>
        </li>
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Garden</a>
        </li>
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Sound & Vision</a>
        </li>
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Household</a>
        </li>
        <li class="espares-nav-item">
          <a href="#" class="espares-nav-link">Advice Centre</a>
        </li>
      </ul>
    </div>
  </nav>
  
  <!-- Info bar -->
  <div class="espares-info-bar">
    <div class="espares-info-content">
      <div class="espares-info-item">
        <svg class="espares-info-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
        </svg>
        Next day delivery order by 9pm*
      </div>
      <div class="espares-info-item">
        <svg class="espares-info-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M20 6h-2c0-2.21-1.79-4-4-4S10 3.79 10 6H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2z"/>
        </svg>
        Over 1 million products
      </div>
      <div class="espares-info-item">
        <svg class="espares-info-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
        Over 500 brands
      </div>
    </div>
  </div>
  
  <!-- Promotional banner -->
  <div class="espares-promo-banner">
    <div class="espares-promo-content">
      <div class="espares-promo-deals">HUGE SALES & DEALS</div>
      <div class="espares-promo-subscribe">SUBSCRIBE FOR THE LATEST DEALS & OFFERS</div>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "eSpares Header",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 100,
      "max": 300,
      "step": 10,
      "default": 200,
      "unit": "px",
      "label": "Logo width"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "Navigation menu"
    },
    {
      "type": "checkbox",
      "id": "enable_search",
      "default": true,
      "label": "Enable search"
    }
  ]
}
{% endschema %}
